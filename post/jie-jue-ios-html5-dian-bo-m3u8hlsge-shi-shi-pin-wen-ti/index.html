<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>解决ios HTML5点播m3u8(hls)格式视频问题 | 吴先生。</title>
<link rel="shortcut icon" href="https://ershaoyelxw.github.io/gridea.github.io/favicon.ico?v=1582902507922">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://ershaoyelxw.github.io/gridea.github.io/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://ershaoyelxw.github.io/gridea.github.io">
  <img class="avatar" src="https://ershaoyelxw.github.io/gridea.github.io/images/avatar.png?v=1582902507922" alt="">
  </a>
  <h1 class="site-title">
    吴先生。
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="https://ershaoyelxw.github.io/gridea.github.io" class="menu">
          首页
        </a>
      
    
      
        <a href="https://ershaoyelxw.github.io/gridea.github.io/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="https://ershaoyelxw.github.io/gridea.github.io/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="https://ershaoyelxw.github.io/gridea.github.io/post/about/" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              解决ios HTML5点播m3u8(hls)格式视频问题
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2020-02-28 ·
              </time>
              
                <a href="https://ershaoyelxw.github.io/gridea.github.io/tag/ceozh29KV" class="post-tags">
                  # vue
                </a>
              
                <a href="https://ershaoyelxw.github.io/gridea.github.io/tag/6F-IkuY8u" class="post-tags">
                  # chrome
                </a>
              
                <a href="https://ershaoyelxw.github.io/gridea.github.io/tag/3Bw8-uM5a" class="post-tags">
                  # html
                </a>
              
                <a href="https://ershaoyelxw.github.io/gridea.github.io/tag/qoqgOifuy" class="post-tags">
                  # Javascript
                </a>
              
            </div>
            
            <div class="post-content">
              <p>由于HLS是由Apple公司提出的，所以在iOS电脑或手机上，你可以直接使用Safari浏览器的video标签播放m3u8格式视频文件。而其他浏览器则需要借助hls.js来兼容m3u8。</p>
<p>使用hls.js，不需要任何定制的播放器，只需要video元素就能播放m3u8。</p>
<p>首先判断浏览器是否支持hls，如果支持就实例化new Hls()，加载m3u8源，然后播放。如果不支持hls，而支持苹果原生应用，则播放另一个m3u8源。</p>
<pre><code>npm install --save hls.js
</code></pre>
<pre><code>&lt;video id=&quot;video&quot; height=&quot;100%&quot; width=&quot;100%&quot;&gt;&lt;/video&gt;
&lt;script&gt;
		import Hls from 'hls.js'; 
		var video = document.getElementById('video');
		if(Hls.isSupported()) {
			var hls = new Hls();
			hls.loadSource('https://test.m3u8');
			hls.attachMedia(video);
			hls.on(Hls.Events.MANIFEST_PARSED,function() {
				video.play();
		});
	 } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
			video.src = 'https://test.m3u8';
			video.addEventListener('loadedmetadata',function() {
				video.play();
			});
		}
&lt;/script&gt;	
</code></pre>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://ershaoyelxw.github.io/gridea.github.io/post/bu-shu-node-dao-fu-wu-qi-nginx-she-zhi-jing-tai-zi-yuan-ke-yi-zhi-jie-fang-wen">
              <h3 class="post-title">
                部署node到服务器，nginx设置静态资源可以直接访问
              </h3>
            </a>
          </div>  
        

        
    
        <div class="site-footer">
  Powered by <a href="https://ershaoyelxw.github.io/gridea.github.io" target="_blank">吴先生。</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
